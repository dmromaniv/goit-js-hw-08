{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAUC,SAASC,cAAc,kBAEvCC,OAAOC,iBAAiB,QAgCxB,WACE,GAAIC,aAAaC,QAAQ,uBAAwB,CAC/C,MAAMC,MAAEA,EAAKC,QAAEA,GAAYR,EAAQS,SACnC,IACE,MAAMC,EAAYC,KAAKC,MAAMP,aAAaC,QAAQ,wBAClDC,EAAMM,MAAQH,EAAUH,MACxBC,EAAQK,MAAQH,EAAUF,O,CAC1B,MAAOM,GACPC,QAAQC,IAAI,0BAA4BF,EAAMG,K,MAvCpDjB,EAAQI,iBAAiB,QAASc,EAAApB,EAAA,EAIlC,WACE,MAAMS,MAAEA,EAAKC,QAAEA,GAAYW,KAAKV,SAC1BW,EAAab,EAAMM,MAAMQ,OACzBC,EAAed,EAAQK,MAAMQ,OAEnC,GAAID,GAAcE,EAAc,CAC9B,MAAMZ,EAAY,CAChB,CAACH,EAAMU,MAAOG,EACd,CAACZ,EAAQS,MAAOK,GAElBjB,aAAakB,QAAQ,sBAAuBZ,KAAKa,UAAUd,G,IAdP,MACxDV,EAAQI,iBAAiB,UAiBzB,SAAsBqB,GACpBA,EAAMC,iBACN,IACE,MAAMhB,EAAYC,KAAKC,MAAMP,aAAaC,QAAQ,wBAClDN,EAAQ2B,QACRZ,QAAQC,IAAIN,E,CACZ,MAAOI,GACPC,QAAQC,IAAI,0BAA4BF,EAAMG,K,CAGhDZ,aAAauB,O","sources":["src/js/03-feedback.js"],"sourcesContent":["import throttle from 'lodash/throttle';\n\nconst formRef = document.querySelector('.feedback-form');\n\nwindow.addEventListener('load', initForm);\nformRef.addEventListener('input', throttle(getFormData, 500));\nformRef.addEventListener('submit', clearStorage);\n\n// Get data from form inputs\nfunction getFormData() {\n  const { email, message } = this.elements;\n  const emailValue = email.value.trim();\n  const messageValue = message.value.trim();\n\n  if (emailValue && messageValue) {\n    const savedData = {\n      [email.name]: emailValue,\n      [message.name]: messageValue,\n    };\n    localStorage.setItem('feedback-form-state', JSON.stringify(savedData));\n  }\n}\n// Clear localStorage and log data in console\nfunction clearStorage(event) {\n  event.preventDefault();\n  try {\n    const savedData = JSON.parse(localStorage.getItem('feedback-form-state'));\n    formRef.reset();\n    console.log(savedData);\n  } catch (error) {\n    console.log('Can`t parce this data: ' + error.name); // \"SyntaxError\"\n  }\n\n  localStorage.clear();\n}\n\nfunction initForm() {\n  if (localStorage.getItem('feedback-form-state')) {\n    const { email, message } = formRef.elements;\n    try {\n      const savedData = JSON.parse(localStorage.getItem('feedback-form-state'));\n      email.value = savedData.email;\n      message.value = savedData.message;\n    } catch (error) {\n      console.log('Can`t parce this data: ' + error.name); // \"SyntaxError\"\n    }\n  }\n}\n"],"names":["$8zd4h","parcelRequire","$945622fd0f572e60$var$formRef","document","querySelector","window","addEventListener","localStorage","getItem","email","message","elements","savedData","JSON","parse","value","error","console","log","name","$parcel$interopDefault","this","emailValue","trim","messageValue","setItem","stringify","event","preventDefault","reset","clear"],"version":3,"file":"03-feedback.a099994d.js.map"}