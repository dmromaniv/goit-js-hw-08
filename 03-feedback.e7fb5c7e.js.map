{"mappings":"0iBACAA,OAAOC,eAAeC,EAAS,aAAc,CACzCC,OAAO,IAEXD,EAAQE,QACR,SAAyBC,EAAKC,EAAKH,GAC3BG,KAAOD,EACPL,OAAOC,eAAeI,EAAKC,EAAK,CAC5BH,MAAOA,EACPI,YAAY,EACZC,cAAc,EACdC,UAAU,IAGdJ,EAAIC,GAAOH,EAEf,OAAOE,C,mBCdLK,EAAUC,SAASC,cAAc,kBAEvCC,OAAOC,iBAAiB,QAiCxB,WACE,GAAIC,aAAaC,QAAQ,uBAAwB,CAC/C,IAA2BC,EAAAP,EAAQQ,SAA3BC,EAAmBF,EAAnBE,MAAOC,EAAYH,EAAZG,QACf,IACE,IAAMC,EAAYC,KAAKC,MAAMR,aAAaC,QAAQ,wBAClDG,EAAMhB,MAAQkB,EAAUF,MACxBC,EAAQjB,MAAQkB,EAAUD,O,CAC1B,MAAOI,GACPC,QAAQC,IAAI,0BAA4BF,EAAMG,K,MAxCpDjB,EAAQI,iBAAiB,QAASc,EAAAC,EAAA,EAIlC,WACE,IAA2BZ,EAAAa,KAAKZ,SAAxBC,EAAmBF,EAAnBE,MAAOC,EAAYH,EAAZG,QACTW,EAAaZ,EAAMhB,MAAM6B,OACzBC,EAAeb,EAAQjB,MAAM6B,OAEnC,GAAID,GAAcE,EAAc,C,IACZC,EAAZb,GAAYa,EAGjB,GAFCN,EAAA1B,EAAA,CADgBgC,EACff,EAAMQ,KAAOI,GACdH,EAAA1B,EAAA,CAFgBgC,EAEfd,EAAQO,KAAOM,GAFAC,GAIlBnB,aAAaoB,QAAQ,sBAAuBb,KAAKc,UAAUf,IAC3DI,QAAQC,IAAI,QAAUX,aAAaC,QAAQ,uB,IAfS,MACxDN,EAAQI,iBAAiB,UAkBzB,SAAsBuB,GACpBA,EAAMC,iBACN,IACE,IAAMjB,EAAYC,KAAKC,MAAMR,aAAaC,QAAQ,wBAC9CK,GAAWI,QAAQC,IAAIL,GAC3BX,EAAQ6B,O,CACR,MAAOf,GACPC,QAAQC,IAAI,0BAA4BF,EAAMG,K,CAGhDZ,aAAayB,WAAW,sB","sources":["node_modules/@swc/helpers/lib/_define_property.js","src/js/03-feedback.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _defineProperty;\nfunction _defineProperty(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\n","import throttle from 'lodash/throttle';\n\nconst formRef = document.querySelector('.feedback-form');\n\nwindow.addEventListener('load', initForm);\nformRef.addEventListener('input', throttle(getFormData, 500));\nformRef.addEventListener('submit', clearStorage);\n\n// Get data from form inputs\nfunction getFormData() {\n  const { email, message } = this.elements;\n  const emailValue = email.value.trim();\n  const messageValue = message.value.trim();\n\n  if (emailValue && messageValue) {\n    const savedData = {\n      [email.name]: emailValue,\n      [message.name]: messageValue,\n    };\n    localStorage.setItem('feedback-form-state', JSON.stringify(savedData));\n    console.log('ЗАПИС' + localStorage.getItem('feedback-form-state'));\n  }\n}\n// Clear localStorage and log data in console\nfunction clearStorage(event) {\n  event.preventDefault();\n  try {\n    const savedData = JSON.parse(localStorage.getItem('feedback-form-state'));\n    if (savedData) console.log(savedData);\n    formRef.reset();\n  } catch (error) {\n    console.log('Can`t parce this data: ' + error.name); // \"SyntaxError\"\n  }\n\n  localStorage.removeItem('feedback-form-state');\n}\n\nfunction initForm() {\n  if (localStorage.getItem('feedback-form-state')) {\n    const { email, message } = formRef.elements;\n    try {\n      const savedData = JSON.parse(localStorage.getItem('feedback-form-state'));\n      email.value = savedData.email;\n      message.value = savedData.message;\n    } catch (error) {\n      console.log('Can`t parce this data: ' + error.name); // \"SyntaxError\"\n    }\n  }\n}\n"],"names":["Object","defineProperty","$cec85eba0a352189$exports","value","default","obj","key","enumerable","configurable","writable","$b00c40859be242c5$var$formRef","document","querySelector","window","addEventListener","localStorage","getItem","_elements","elements","email","message","savedData","JSON","parse","error","console","log","name","$parcel$interopDefault","$eaxEB","this","emailValue","trim","messageValue","_obj","setItem","stringify","event","preventDefault","reset","removeItem"],"version":3,"file":"03-feedback.e7fb5c7e.js.map"}