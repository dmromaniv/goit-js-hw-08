{"mappings":"0iBACAA,OAAOC,eAAeC,EAAS,aAAc,CACzCC,OAAO,IAEXD,EAAQE,QACR,SAAyBC,EAAKC,EAAKH,GAC3BG,KAAOD,EACPL,OAAOC,eAAeI,EAAKC,EAAK,CAC5BH,MAAOA,EACPI,YAAY,EACZC,cAAc,EACdC,UAAU,IAGdJ,EAAIC,GAAOH,EAEf,OAAOE,C,mBCdLK,EAAiB,sBAEjBC,EAAUC,SAASC,cAAc,kBAOvC,SAASC,EAAYC,GACnB,IAMoBC,EANZC,EAAmBF,EAAnBE,MAAOC,EAAYH,EAAZG,QAETC,EAAaF,EAAMd,MAAMiB,OACzBC,EAAeH,EAAQf,MAAMiB,OAEnC,OAAID,GAAcE,GACEL,EAGjB,GAFCM,EAAApB,EAAA,CADgBc,EACfC,EAAMM,KAAOJ,GACdG,EAAApB,EAAA,CAFgBc,EAEfE,EAAQK,KAAOF,GAFAL,GAMb,I,CAlBTQ,OAAOC,iBAAiB,QAuCxB,WACE,IAAMC,EAAaC,aAAaC,QAAQlB,GACxC,GAAIgB,EAAY,CACd,IAA2BG,EAAAlB,EAAQI,SAA3BE,EAAmBY,EAAnBZ,MAAOC,EAAYW,EAAZX,QACf,IACE,IAAMY,EAAaC,KAAKC,MAAMN,GAC9BT,EAAMd,MAAQ2B,EAAWb,MACzBC,EAAQf,MAAQ2B,EAAWZ,O,CAC3B,MAAOe,GACPC,QAAQC,IAAI,0BAA4BF,EAAMV,K,MA/CpDZ,EAAQc,iBAAiB,QAASH,EAAAc,EAAA,EAoBlC,WACE,IAAMC,EAAYvB,EAAYwB,KAAKvB,UAE/BsB,GACFV,aAAaY,QAAQ7B,EAAgBqB,KAAKS,UAAUH,G,GAxBK,MAC7D1B,EAAQc,iBAAiB,UA2BzB,SAAsBgB,GACpBA,EAAMC,iBAEN,IAAML,EAAYvB,EAAY2B,EAAME,cAAc5B,UAE9CsB,GAAWH,QAAQC,IAAIE,GAC3BI,EAAME,cAAcC,QACpBjB,aAAakB,WAAWnC,E","sources":["node_modules/@swc/helpers/lib/_define_property.js","src/js/03-feedback.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _defineProperty;\nfunction _defineProperty(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\n","import throttle from 'lodash/throttle';\n\nconst FORM_STATE_KEY = 'feedback-form-state';\n\nconst formRef = document.querySelector('.feedback-form');\n\nwindow.addEventListener('load', initForm);\nformRef.addEventListener('input', throttle(setDataToStorage, 500));\nformRef.addEventListener('submit', clearStorage);\n\n// Get data from inputs\nfunction getFormData(elements) {\n  const { email, message } = elements;\n\n  const emailValue = email.value.trim();\n  const messageValue = message.value.trim();\n\n  if (emailValue && messageValue) {\n    const savedData = {\n      [email.name]: emailValue,\n      [message.name]: messageValue,\n    };\n    return savedData;\n  }\n  return null;\n}\n// Set input data to local storage\nfunction setDataToStorage() {\n  const inputData = getFormData(this.elements);\n\n  if (inputData) {\n    localStorage.setItem(FORM_STATE_KEY, JSON.stringify(inputData));\n  }\n}\n// Clear localStorage and log data in console\nfunction clearStorage(event) {\n  event.preventDefault();\n\n  const inputData = getFormData(event.currentTarget.elements);\n\n  if (inputData) console.log(inputData);\n  event.currentTarget.reset();\n  localStorage.removeItem(FORM_STATE_KEY);\n}\n// Init form on page load\nfunction initForm() {\n  const storedData = localStorage.getItem(FORM_STATE_KEY);\n  if (storedData) {\n    const { email, message } = formRef.elements;\n    try {\n      const parsedData = JSON.parse(storedData);\n      email.value = parsedData.email;\n      message.value = parsedData.message;\n    } catch (error) {\n      console.log('Can`t parce this data: ' + error.name); // \"SyntaxError\"\n    }\n  }\n}\n"],"names":["Object","defineProperty","$cec85eba0a352189$exports","value","default","obj","key","enumerable","configurable","writable","$b00c40859be242c5$var$FORM_STATE_KEY","$b00c40859be242c5$var$formRef","document","querySelector","$b00c40859be242c5$var$getFormData","elements","_obj","email","message","emailValue","trim","messageValue","$parcel$interopDefault","name","window","addEventListener","storedData","localStorage","getItem","_elements","parsedData","JSON","parse","error","console","log","$eaxEB","inputData","this","setItem","stringify","event","preventDefault","currentTarget","reset","removeItem"],"version":3,"file":"03-feedback.8a98eb29.js.map"}